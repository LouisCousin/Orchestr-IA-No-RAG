# Orchestr'IA - Phase 1 + Phase 2 + Phase 2.5 + Phase 3 Dependencies

# Interface
streamlit>=1.30.0

# AI Providers
openai>=1.12.0
anthropic>=0.39.0
google-genai>=1.51.0
tiktoken>=0.6.0

# PDF extraction (fallback chain: docling → pymupdf → pdfplumber → PyPDF2)
docling>=2.0  # Phase 2.5: extracteur PDF prioritaire (optionnel mais recommandé)
pymupdf>=1.23.0
pdfplumber>=0.10.0
PyPDF2>=3.0.0

# Document processing
python-docx>=1.1.0
beautifulsoup4>=4.12.0
requests>=2.31.0
openpyxl>=3.1.0
pandas>=2.1.0

# DOCX export
lxml>=5.0.0

# RAG / Vector database (Phase 2)
chromadb>=0.5.0

# Phase 2.5: Embeddings locaux et reranking
fastembed>=0.2.0             # Embeddings ONNX quantized (rapide, ~300 Mo RAM)
sentence-transformers>=3.0   # Requis par le Reranker (cross-encoder)
# Note : sentence-transformers installe aussi torch si pas déjà présent
# Pour une installation CPU-only plus légère :
# pip install torch --index-url https://download.pytorch.org/whl/cpu

# Configuration
pyyaml>=6.0.0
python-dotenv>=1.0.0

# Hashing / deduplication
# (hashlib is stdlib)

# Metadata store
# (sqlite3 is stdlib)

# Phase 3 — Intelligence du pipeline
plotly>=5.18.0
python-Levenshtein>=0.25.0

# Phase 4 — Performance & Async
aiohttp>=3.9.0         # Téléchargement asynchrone (corpus_acquirer)
aiofiles>=23.0.0       # Écriture disque non-bloquante (corpus_acquirer)
psutil>=5.9.0          # Gestion dynamique RAM/CPU (text_extractor)

# Testing
pytest>=8.0.0
pytest-cov>=4.1.0
